<!DOCTYPE HTML>
<html>
<head>

    <title>Identity by HTML5 UP</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css"/>
    </noscript>
    <style>
        * {
            font-family: "微软雅黑";
        }
    </style>

</head>
<body class="is-loading">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Main -->
    <section id="main">
        <!-- <header>
            <span class="avatar"><img src="images/avatar.jpg" alt="" /></span>
            <h1>Jane Doe</h1>
            <p>Senior Psychonautics Engineer</p>
        </header> -->

        <hr/>
        <h2>注册</h2>

        <form id="sign_form" method="post" action="#">
            <div class="field">
                <input type="text" name="phone" id="phone" placeholder="请输入手机号"/>
            </div>
            <div class="field">
                <input type="password" name="password1" id="password1" placeholder="请输入密码"/>
            </div>
            <div class="field">
                <input type="password" name="password2" id="password2" placeholder="请确认密码"/>
            </div>
            <div class="field">
                <input type="text" name="id_number" id="id_number" placeholder="请输入身份证号"/>
            </div>
            <div class="field">
                <input type="text" name="captcha" id="captcha" placeholder="请输入验证码"
                       style="width:55%;display: inline-block"/>
                <button style="width:40%;display: inline-block" onclick="captcha_button()"> 发送验证码</button>
            </div>
            <div class="field">

            </div>

            <ul class="actions">
                <li><a  class="button" onclick="form_submit()">确认</a></li>
            </ul>
        </form>
        <hr/>

        <footer>
            <ul class="icons">
                <li><a href="#" class="fa-weixin">微信</a></li>
                <!-- <li><a href="#" class="fa-qq">QQ</a></li> -->
                <!-- <li><a href="#" class="fa-weibo">微博</a></li> -->
            </ul>
        </footer>
    </section>

    <!-- Footer -->
    <footer id="footer">
        <ul class="copyright">
            <!-- <li>&copy; Jane Doe</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li> -->
        </ul>
    </footer>

</div>

<!-- Scripts -->
<script>
    if ('addEventListener' in window) {
        window.addEventListener('load', function () {
            document.body.className = document.body.className.replace(/\bis-loading\b/, '');
        });
        document.body.className += (navigator.userAgent.match(/(MSIE|rv:11\.0)/) ? ' is-ie' : '');
    }
</script>
<script src="assets/js/jquery-1.12.0.min.js"></script>
<script src="assets/js/jquery.validate.js"></script>
<script src="assets/js/messages_zh.js"></script>
<script>

    function form_submit() {
        var $form = $("#sign_form");
        var formData = new FormData($form[0]);
        var phone = $("#phone").val();
        var password1 = $("#password1").val();
        var password2 = $("#password2").val();
        var id_number = $("#id_number").val();
        var captcha = $("#captcha").val();

        $.ajax({
            url:"http://localhost/project_4/weixin/index/userData/confirm.json",
            type: 'post',
            data: {
                phone: phone,
                password1: password1,
                password2: password2,
                id_number: id_number,
                captcha: captcha
            },
            dataType:'json',
            success:function(data){
                alert(data);
                console.log(data);
            },
            error:function(data){
                alert(data);
                console.log(data);
            }
        });
        return false
    }

    function captcha_button() {
        alert();
        return false
    }

    $(function () {
        var $form = $("#sign_form");
        var phone = $("#phone").val();

        $form.validate({
            rules: {
                phone: {
                    required: true,
                    minlength: 6,
                    maxlength: 12
//                    remote: {
//                        url: "http://localhost/project_4/weixin/index/userExist/confirm.json",
//                        data: {
//                            phone: phone
//                        },
//                        type: "get",
//                        dataType: "json",
//                        dataFilter: function (data) {
//                            console.log(data);
//                            alert(data);
////			                             return data==1;
//                        }
//                    }
                },
                password1: {
                    required: true,
                    minlength: 6,
                    maxlength: 12
                },
                password2: {
                    required: true,
                    equalTo: "[name=password1]"
                },
                id_number: {
                    required: true,
                    minlength: 18,
                    maxlength: 18,
                    number: true
                }
            },
            messages: {
                username: {
                    remote: "用户名已被使用"
                },
                password2: {
                    equalTo: "两次密码输入不相同"
                },
                id_number: {
                    number: "请输入正确格式的身份证号"
                }
            }
        })
    })
</script>


</body>
</html>